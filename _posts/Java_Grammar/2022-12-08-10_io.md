---
title: "Java 문법 10. 입출력(IO)"
excerpt: "Java 입출력의 이해"

categories:
  - JavaGrammar
tags:
  - [Java, Grammar]

comments: true
toc: true
toc_sticky: true

date: 2020-12-08
last_modified_at: 2020-12-08
---

## 입출력(IO)

> ### IO 란

Input과 Output의 약자, 컴퓨터 내부 또는 외부 장치와 프로그램이 데이터를 주고 받는 것이다  
입출력 데이터를 처리할 공통적인 방법으로 스트림을 이용한다

<br>

> ### 스트림

#### [ 특징 ]

- FIFO 구조
  - 선입선출 구조라고도 하며 먼저 들어간 데이터가 먼저 나오는 형태를 말한다  
     => 데이터의 순서가 바뀌지 않는다
- 단방향
  - 하나의 스트림에서 입출력이 동시에 이루어지지 않는다
  - 입력과 출력에 각각 스트림을 열어 사용해야 한다
- 지연 가능
  - 스트림 내의 데이터가 모두 전송되기 전까지 프로그램이 지연상태에 빠질 수 있다

<br>

#### [ 스트림의 분류 ]

<p align="center">
  <img width="calc(100% - #{$right-sidebar-width-narrow})" height="auto" src="/assets/images/stream_base.png">
</p>

- 용도에 의한 분류

  - 기반(1차) 스트림 : 디바이스에 직접 연결되는 스트림
  - 보조(2차) 스트림 : 기반 스트림과 연결을 통해 디바이스에 연결되는 스트림
    - 스트림의 기능을 향상시키거나 새로운 기능을 추가시킨다  
      => 속도향상, 자료형변환, 객체단위의 입출력 보조 등
    - 말그대로 보조적인 역할이며 <u>단독으로 사용 불가</u>하다  
       => 꼭 기반 스트림과 함께 사용해야 한다

- 전송 방향에 의한 분류

  - 입력 스트림 : 디바이스로부터 데이터를 읽어오는 스트림
  - 출력 스트림 : 디바이스로 데이터를 출력하는 스트림

- 전송 단위에 의한 분류

  - [바이트 스트림](#바이트-스트림) : 1byte 단위로 입/출력 하는 스트림
  - 문자 스트림 : 한 문자(2byte) 단위로 입/출력하는 스트림

<br>

> ### File 클래스

파일이나 디텍터리를 추상화한 클래스로 가장 많이 사용되는 입출력 대상 클래스이다

<br>

#### [ File 클래스의 생성자와 메소드 ]

- 생성자

  | 생성자                                                                         | 설명                                         |
  | ------------------------------------------------------------------------------ | -------------------------------------------- |
  | File(String fileName)                                                          | 주어진 파일 이름을 가지는 객체 생성          |
  | File(String pathname, String fileName)<br>File(File pathname, String fileName) | 파일의 경로와 이름을 따로 지정하여 객체 생성 |
  | File(URI uri)                                                                  | 지정된 uri로 파일 생성                       |

- 메소드

| 메소드                                               | 설명                                                                         |
| ---------------------------------------------------- | ---------------------------------------------------------------------------- |
| String getName()                                     | 파일 이름을 String으로 반환                                                  |
| String getPath()                                     | 파일의 경로를 String으로 반환                                                |
| String getAbsolutePath()<br>File getAbsoluteFile()   | 파일의 절대결로를 String으로 반환<br>파일의 절대결로를 File로 반환           |
| String getParent()<br>File getParentFile()           | 파일의 조상 디렉토리를 String으로 반환<br>파일의 조상 디렉토리를 File로 반환 |
| String getCanonicalPath()<br>File getCanonicalFile() | 파일의 정규경로를 String으로 반환<br>파일의 정규경로를 File로 반환           |
| boolean createNewFile()                              | 설정해둔 경로에 새로운 파일을 생성                                           |
| boolean isDirectory()                                | 설정한 경로가 있는지 확인                                                    |
| boolean mkdir()                                      | 설정한 경로에 해당하는 폴더를 모두 생성                                      |

<br>

> ### 바이트 스트림

- 바이트 단위로 데이터를 전송
- 바이트 단위로 구성된 파일(동영상, 이미지, 음악 등)을 처리하기에 적합한 스트림
- 바이트 스트림의 최상위 클래스는 InputStream 과 OutputStream 이다
- 자손 클래스들은 입출력에 필요한 추상 메소드를 자신에 맞게 구현해 놓았다

<br>

#### [ InputStream 과 OutputStream ]

바이트 스트림의 최상위 클래스로써 둘 모두 추상 클래스이다

<br>

##### - InputStream

| 메소드                               | 설명                                                                                                                                                          |
| ------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| void close()                         | 사용한 시스템 자원 반납 후 입력 스트림을 닫음                                                                                                                 |
| abstract int read()                  | 스트림에서 1바이트를 읽음(0~255 아스키코드 값)<br>더 이상 읽을 데이터가 없으면 -1 반환                                                                        |
| int read(byte[] b)                   | 배열 b의 크기만큼 읽어서 배열을 채우고 읽은 데이터 수를 반환                                                                                                  |
| int read(byte[] b, int off, int len) | 최대 len만큼의 바이트를 읽어서 배열 b의 off위치부터 저장<br>실제로 읽은 바이트 수인 len개 리턴<br>(만약 len개를 모두 읽지 못 하면 실제로 읽은 바이트 수 리턴) |
| int available()                      | 현재 읽을 수 있는 바이트 수를 반환                                                                                                                            |
| void mark(int readlimit)             | 스트림에서 현재 위치를 표시, reset()에 의해 돌아감                                                                                                            |
| boolean markSupported()              | mark()와 reset() 지원 여부 확인                                                                                                                               |
| void reset()                         | mark() 를 마지막으로 호출한 위치로 이동                                                                                                                       |
| long skip(long n)                    | n 바이트 만큼 데이터를 건너뛰고 바이트 수를 반환                                                                                                              |

<br>

##### - OutputStream

| 메소드                                    | 설명                                           |
| ----------------------------------------- | ---------------------------------------------- |
| void close()                              | 사용한 시스템 자원 반납 후 출력 스트림을 닫음  |
| void flush()                              | 버퍼에 잔류하는 모든 바이트 출력               |
| abstract void write(int i)                | 주어진 값을 출력                               |
| void write(byte b[])                      | 배열 b에 저장된 내용을 모두 출력               |
| void write(byte b[], int index, int size) | 배열 b에 저장된 내용을 index부터 size만큼 출력 |

<br>

##### - 하위 스트림 종류

<table>
<thead>
  <tr>
    <th>구분</th>
    <th>종류</th>
    <th colspan="2">하위클래스</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td rowspan="10">InputStream</td>
    <td rowspan="4">기반</td>
    <td>FileInputStream</td>
    <td>　</td>
  </tr>
  <tr>
    <td>PipedInputStream</td>
    <td>　</td>
  </tr>
  <tr>
    <td>ByteArrayInputStream</td>
    <td>　</td>
  </tr>
  <tr>
    <td>StringBufferedInputStream</td>
    <td>　</td>
  </tr>
  <tr>
    <td rowspan="6">보조</td>
    <td rowspan="4">FilterInputStream</td>
    <td>LineNumberInputStream</td>
  </tr>
  <tr>
    <td>DataInputStream</td>
  </tr>
  <tr>
    <td>BufferedInputStream</td>
  </tr>
  <tr>
    <td>PushbackInputStream</td>
  </tr>
  <tr>
    <td>SequenceInputStream</td>
    <td>　</td>
  </tr>
  <tr>
    <td>ObjectInputStream</td>
    <td>　</td>
  </tr>
  <tr>
    <td rowspan="7">OutputStream</td>
    <td rowspan="3">기반</td>
    <td>FileOutputStream</td>
    <td>　</td>
  </tr>
  <tr>
    <td>PipedOutputStream</td>
    <td>　</td>
  </tr>
  <tr>
    <td>ByteArrayOutputStream</td>
    <td>　</td>
  </tr>
  <tr>
    <td rowspan="4">보조</td>
    <td rowspan="3">FilterOutputStream</td>
    <td>DataOutputStream</td>
  </tr>
  <tr>
    <td>BufferedOutputStream</td>
  </tr>
  <tr>
    <td>PrintStream</td>
  </tr>
  <tr>
    <td>ObjectOutputStream</td>
    <td>　</td>
  </tr>
</tbody>
</table>
